import{Q as $,P as b}from"./quasar-f66068ae.js";import{d as C,r as q,g as l,o as u,a as p,j as _,k as n,u as x,F as B,b as M,f as h,l as f,m as V,t as w,e as y,n as I,c as k,h as A,i as z}from"./index-92db73a2.js";const j={class:"fit row justify-end"},D={class:"q-mt-md"},N={class:"q-mt-md"},S=C({__name:"InformationCreationForm",emits:{closeCreationForm:null},setup(v,{emit:e}){const r=[s=>s.length<=170||"最大170字まで",s=>s.length>0||"1文字以上入力して下さい"],a=q(null),m=()=>{nodecg.sendMessage("createInformation",{text:a.value}),e("closeCreationForm")};return(s,o)=>{const t=l("q-btn"),c=l("q-input");return u(),p("div",null,[_("div",j,[n(t,{round:"",size:"sm",color:"primary",icon:"mdi-close",onClick:o[0]||(o[0]=d=>s.$emit("closeCreationForm"))})]),_("div",D,[n(c,{modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=d=>a.value=d),filled:"",autogrow:"",rules:r,maxlength:"170"},null,8,["modelValue"])]),_("div",N,[n(t,{color:"primary",class:"full-width",label:"CREATE",onClick:m})])])}}}),T={class:"fit row justify-end"},H={class:"q-mt-md"},L={class:"q-mt-md"},P=C({__name:"InformationModificationForm",props:{information:null},emits:{closeCreationForm:null},setup(v,{emit:e}){const r=v,a=[o=>o.length<=170||"最大170字まで",o=>o.length>0||"1文字以上入力して下さい"],m=q(r.information.text),s=()=>{nodecg.sendMessage("updateInformation",{id:r.information.id,text:m.value}),e("closeCreationForm")};return(o,t)=>{const c=l("q-btn"),d=l("q-input");return u(),p("div",null,[_("div",T,[n(c,{round:"",size:"sm",color:"primary",icon:"mdi-close",onClick:t[0]||(t[0]=i=>o.$emit("closeCreationForm"))})]),_("div",H,[n(d,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=i=>m.value=i),filled:"",autogrow:"",rules:a,maxlength:"170"},null,8,["modelValue"])]),_("div",L,[n(c,{color:"primary",class:"full-width",label:"EDIT",onClick:s})])])}}}),Q=C({__name:"InformationList",emits:["openModificationForm"],setup(v){const e=x("setupInformationArray","mysrtafes2023-layouts"),r=a=>{nodecg.sendMessage("deleteInformation",{id:a})};return(a,m)=>{var d;const s=l("q-card-section"),o=l("q-btn"),t=l("q-card-actions"),c=l("q-card");return u(),p("div",null,[(u(!0),p(B,null,M((d=y(e))==null?void 0:d.data,i=>(u(),h(c,{key:i==null?void 0:i.id,class:"my-card q-mt-md"},{default:f(()=>[n(s,null,{default:f(()=>[V(w(i.text),1)]),_:2},1024),n(t,{align:"right"},{default:f(()=>[n(o,{color:"primary",size:"md",label:"Edit",onClick:g=>a.$emit("openModificationForm",i)},null,8,["onClick"]),n(o,{color:"negative",size:"xs",label:"Delete",onClick:g=>r(i.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])}}}),R={class:"q-pa-md"},U={key:2},O=C({__name:"main",setup(v){I({title:"Setup Information"});const e=q("informations"),r=q(null),a=k(()=>e.value==="creation"),m=k(()=>e.value==="modification"),s=()=>{e.value="creation"},o=c=>{r.value=c,e.value="modification"},t=()=>{e.value="information"};return(c,d)=>{const i=l("q-btn"),g=l("q-scroll-area"),E=l("q-slide-transition");return u(),p("div",R,[n(E,null,{default:f(()=>[y(a)?(u(),h(S,{key:0,onCloseCreationForm:t})):y(m)?(u(),h(P,{key:1,information:r.value,onCloseCreationForm:t},null,8,["information"])):(u(),p("div",U,[n(i,{color:"secondary",class:"full-width",label:"Add Information",onClick:s}),n(g,{style:{height:"480px"}},{default:f(()=>[n(Q,{onOpenModificationForm:o})]),_:1})]))]),_:1})])}}}),F=A(O),G=z();F.use($);F.use(G);F.mount("#app");b.set(!0);
